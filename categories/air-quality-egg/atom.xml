<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Air Quality Egg | Blog | OpenEnergyMonitor]]></title>
  <link href="https://blog.openenergymonitor.org/categories/air-quality-egg/atom.xml" rel="self"/>
  <link href="https://blog.openenergymonitor.org/"/>
  <updated>2016-06-20T11:27:13+00:00</updated>
  <id>https://blog.openenergymonitor.org/</id>
  <author>
    <name><![CDATA[Glyn Hudson]]></name>
    <email><![CDATA[support@openenergymonitor.zendesk.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Getting the Air Quality Egg to work with the OpenEnergyMonitor system and emoncms ]]></title>
    <link href="https://blog.openenergymonitor.org/2013/06/getting-air-quality-egg-to-work-with/"/>
    <updated>2013-06-10T21:16:00+00:00</updated>
    <id>https://blog.openenergymonitor.org/2013/06/getting-air-quality-egg-to-work-with</id>
    <content type="html"><![CDATA[<p><br />&lt;div style="margin-bottom: 0cm;"&gt;I spent a bit of time today putting a sketch together to get the <a href="http://openenergymonitor.blogspot.co.uk/2013/02/air-quality-egg-sensor-shield.html">AirQuality Egg Shield</a> and <a href="http://openenergymonitor.blogspot.co.uk/2013/02/air-quality-egg.html">Air Quality Egg Remote node</a> to work as a standard sensor node with the OpenEnergyMonitor system, so that I could log data into emoncms to visualise changes over time and use the existing raspberrypi + rfm12pi base station setup thats already receiving data from an emontx and low power temperature nodes.&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<span style="font-size: small;">I placed the shield on top of a NanodeRF as it has the RFM12 RF module but Im not actually using the Ethernet part, Im just using the nanode as an arduino with an RFM12 module to form a remote sensor node. This is the same setup as is found inside the </span>Air Quality Egg Remote node.&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://1.bp.blogspot.com/-hFLyp7hugOI/UbY_UoDQ9rI/AAAAAAAACqk/8k--rKEg83U/s1600/shield.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="357" src="http://1.bp.blogspot.com/-hFLyp7hugOI/UbY_UoDQ9rI/AAAAAAAACqk/8k--rKEg83U/s400/shield.jpg" width="400" /></a>&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;The sketch is adapted from the PollEggBus_EPA sketch developed by <a href="http://wickeddevice.com/">Wicked Device</a> who develop and make the Air Quality Egg and just puts the NO2, CO, temperature and humidity data in the standard data structure of a series of integer values that the emontx and other nodes use.&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;Download the sketch here to try it out:&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<a href="https://github.com/openenergymonitor/Air-Quality-Egg/blob/master/libraries/EggBus/examples/PollEggBus_openenergymonitor/PollEggBus_openenergymonitor.ino">https://github.com/openenergymonitor/Air-Quality-Egg/blob/master/libraries/EggBus/examples/PollEggBus_openenergymonitor/PollEggBus_openenergymonitor.ino</a>&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;I’ve now been logging for about 3 hours and there’s already some interesting data to look at, I got back from being out on my bike and had a shower at 20:50 you can see the RH shoot up, there also seems to be a spike in NO2 and a dip in CO not sure what that means, any ideas?&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://4.bp.blogspot.com/-y5QCTJd00pI/UbY_dqJ-P8I/AAAAAAAACqs/uUOOpyo0e6U/s1600/aqe.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="330" src="http://4.bp.blogspot.com/-y5QCTJd00pI/UbY_dqJ-P8I/AAAAAAAACqs/uUOOpyo0e6U/s640/aqe.png" width="640" /></a>&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;Check out the live dashboard here:&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<a href="http://emoncms.org/trystan/aqe">http://emoncms.org/trystan/aqe</a>&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;<br />&lt;/div&gt;&lt;div style="margin-bottom: 0cm;"&gt;Air quality is not something I know much about but after discussing it with the <a href="http://openenergymonitor.blogspot.co.uk/2013/05/carbon-coop.html">Carbon Coop</a> guys recently it sounds like a fascinating and important area to understand, Matt from Carbon Coop explained that high levels of CO2 (not monitored on the AQE shield above but something that would be great to add - but more expensive) in buildings create problems around drowsiness and ability to concentrate and so monitoring these things could be important when designing and making sure a building after having undergone retrofit work has healthy air. It would also be interesting to understand in greater detail the longer term health implications of air quality and the aspects of this that we can measure. There certainly seems to be a lot of resources on this on the Air Quality Egg wiki here which should make interesting reading: <a href="http://airqualityegg.wikispaces.com/AirQualityEgg">http://airqualityegg.wikispaces.com/AirQualityEgg</a>&lt;/div&gt;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Air Quality Egg Sensor Shield]]></title>
    <link href="https://blog.openenergymonitor.org/2013/02/air-quality-egg-sensor-shield/"/>
    <updated>2013-02-09T13:36:00+00:00</updated>
    <id>https://blog.openenergymonitor.org/2013/02/air-quality-egg-sensor-shield</id>
    <content type="html"><![CDATA[<p>The Air Quality Egg Arduino Shield provides a lower cost way for those of you with a spare Arduino / Nanode(RF) to get started with monitoring air quality and joining in the global air quality crowd sourced data and discussion.<br /><br />The Egg Shield is an Arduino shield with Temperature, Humidity, CO and NO2.&lt;div&gt;<br />&lt;/div&gt;&lt;table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="text-align: center;"&gt;<a href="http://4.bp.blogspot.com/-ESjKQXjD43U/URZPeVoEOaI/AAAAAAAAdKM/VoIJnlI0yvs/s1600/AQESensorShield.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="400" src="http://4.bp.blogspot.com/-ESjKQXjD43U/URZPeVoEOaI/AAAAAAAAdKM/VoIJnlI0yvs/s400/AQESensorShield.jpg" width="375" /></a>&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="tr-caption" style="text-align: center;"&gt;Air Quality Egg Arduino Sensor Shield<br />&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;The sensor shield uses an ATtiny88 microprocessor to poll data from the sensors. &lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;To get started with the Sensor Shield follow <a href="http://aqe.wickeddevice.com/?page_id=12">these instructions</a>. &lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;As always the hardware and software is totally open-source, the hardware PCB CAD design &amp; schematic, ATtiny88 firmware and example Arduino sketches can be found on github: <a href="https://github.com/jmsaavedra/Air-Quality-Egg/">https://github.com/jmsaavedra/Air-Quality-Egg/</a>&lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;The Air Quality Egg Sensor Shield is now available in the <a href="http://shop.openenergymonitor.com/air-quality-egg-arduino-sensor-shield/">OpenEnergyMonitor shop</a>. &lt;/div&gt;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Air Quality Egg]]></title>
    <link href="https://blog.openenergymonitor.org/2013/02/air-quality-egg/"/>
    <updated>2013-02-09T12:54:00+00:00</updated>
    <id>https://blog.openenergymonitor.org/2013/02/air-quality-egg</id>
    <content type="html"><![CDATA[<p><i>The Air Quality Egg is a sensing device which facilitates a community-led network that gives people a way to participate in the conversation about air quality.</i><br />&lt;div&gt;<br />The Air Quality egg monitors local Co, No2, Temperature and Humidity levels. Reading from the Air Quality Egg can be shared and compared on a web-based crowd sourced dashboard at: <a href="http://airqualityegg.com/">http://airqualityegg.com</a><br /><br />We’re very pleased  to be the UK/Europe distributor for the Air Quality Egg and air quality Arduino Shields on behalf of <a href="http://wickeddevice.com/">Wicked Device</a>.<br /><br />&lt;/div&gt;&lt;div&gt;&lt;div&gt;Air quality is important to our health and something which is easily overlooked. Although the Air Quality Egg is not strictly an energy monitor it’s very similar hardware and web-connectivity wise. Over time we would like to make it possible to integrate the Air Quality Eggs sensors it into an existing OpenEnergyMonitor system.<br />&lt;div&gt;<br /><br /><a href="http://1.bp.blogspot.com/-03IwVsOZtKw/URP7V8H7DpI/AAAAAAAAdJE/z_74ycF2UiY/s1600/AQE_rear_box.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="452" src="http://1.bp.blogspot.com/-03IwVsOZtKw/URP7V8H7DpI/AAAAAAAAdJE/z_74ycF2UiY/s640/AQE_rear_box.jpg" width="640" /></a><br /><br /><br /><br /><br />The project was funded as part of a <a href="http://www.kickstarter.com/projects/edborden/air-quality-egg">successful Kickstarter</a> (actually once of the <a href="http://www.kickstarter.com/year/2012?utm_campaign=Jan082013&amp;utm_medium=email&amp;utm_source=newsletter#air_quality_egg">20 top kickstarter projects of 2012</a>!), the Air Quality Eggs are manufactured in the US by <a href="http://wickeddevice.com/">Wicked Device</a>.<br /><br />&lt;h3&gt;Hardware&lt;/h3&gt;&lt;div&gt;Hardware wise the Air Quality Egg is two NanodeRF SMT’s, one with an Air Quality Egg Sensor Shield (temperature, humidity, carbon monoxide and nitrous dioxide sensors) + mini fan and the other with an Ethernet controller and an RGB status LED which illuminates the egg housing. The sensor egg should be located outdoors (but undercover) and the base-station egg plugs into your home Internet router. The units communicated via 433Mhz RFM12B.<br /><br />&lt;table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="text-align: center;"&gt;<a href="http://1.bp.blogspot.com/-sNvaJcu6G34/URVHJtyR7BI/AAAAAAAAdJc/ZzxPeVm1riM/s1600/EQE+Inside.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="226" src="http://1.bp.blogspot.com/-sNvaJcu6G34/URVHJtyR7BI/AAAAAAAAdJc/ZzxPeVm1riM/s320/EQE+Inside.jpg" width="320" /></a>&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="tr-caption" style="text-align: center;"&gt;Cracking the egg open  - eggs from OpenEnergyMonitor shop will include UK / Euro plugs&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;The two eggs (transmitter and base-station) collectively consumer 4W of power. &lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;h3&gt;Software&lt;/h3&gt;&lt;div&gt;Firmware - The AQE is Arduino compatible.  It uses many of the same libraries and a Nanode emonBase (e.g JeeLib and EtherCard). The AQE can easily be re-programmed with a USB to UART cable (included) and Arduino IDE. <a href="https://github.com/jmsaavedra/Air-Quality-Egg">All the firmware is up on GitHub</a>. All the AQE’s from OpenEnergyMonitor will be shipped with the latest firmware (V1.03 as of 8th Feb 2013). &lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;IoT Cloud - <a href="http://cosm.com/">Cosm</a> is used as the data store for the AQE. A neat <a href="https://github.com/cosm/airqualityegg.com">open-source</a> Ruby web-application has been written to display a crowd sourced web-dashboard with a nice Google map showing egg monitoring locations. &lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="text-align: center;"&gt;<a href="http://1.bp.blogspot.com/-6DnLFR6TaGo/URPv3z-GiFI/AAAAAAAAdIU/eB2R88m8RBs/s1600/AQE_Europe_Feb13.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="263" src="http://1.bp.blogspot.com/-6DnLFR6TaGo/URPv3z-GiFI/AAAAAAAAdIU/eB2R88m8RBs/s400/AQE_Europe_Feb13.png" width="400" /></a>&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="tr-caption" style="text-align: center;"&gt;<a href="http://airqualityegg.com/" style="font-size: medium; text-align: start;">http://airqualityegg.com/</a> - let’s get some more European eggs activated! &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;<br />&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;/div&gt;&lt;table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="text-align: center;"&gt;<a href="http://2.bp.blogspot.com/-3UlYWwLXUKs/URVUJcKKCkI/AAAAAAAAdJo/Ku5-zJZgbYY/s1600/OEM_egg.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="308" src="http://2.bp.blogspot.com/-3UlYWwLXUKs/URVUJcKKCkI/AAAAAAAAdJo/Ku5-zJZgbYY/s400/OEM_egg.png" width="400" /></a>&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="tr-caption" style="text-align: center;"&gt;Example Air Quality Egg Readings from the OpenEnergyMonitor labs, readings may be in-correct. Sensors take a few days to ‘burn-in’. See here for the live version: <a href="http://airqualityegg.com/egg/103153">http://airqualityegg.com/egg/103153</a>&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;<br />&lt;h3&gt;Setup&lt;/h3&gt;&lt;div&gt;Follow the setup instructions on: <a href="http://aqe.wickeddevice.com/?page_id=39">http://aqe.wickeddevice.com/?page_id=39</a>&lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;In summary setup is as simple as:<br />&lt;ol&gt;&lt;li&gt;Head to <a href="http://airqualityegg.com/">http://airqualityegg.com/</a> and enter the serial number on the AQE box&lt;/li&gt;&lt;li&gt;Plug in the base station - watch for LED illumination sequence (green LED) to confirm successfully connection (or connect FTDI on baud 115200 for more verbose confirmation)  &lt;/li&gt;&lt;li&gt;Pair sensor egg to base station by un-plugging the base station, then plugging it back-in then connecting the sensor egg when the base station glows yellow. Base egg will cycle through a number of colours to confirm pairing. &lt;/li&gt;&lt;li&gt;Deploy sensor egg somewhere in the open air (but undercover) within 100ft of the base&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style="text-align: center;"&gt;<a href="http://4.bp.blogspot.com/-N6nG_KUEL9I/URP6iwP72xI/AAAAAAAAdI8/n-kpK4jGinQ/s1600/Egg-Color-Patterns.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://4.bp.blogspot.com/-N6nG_KUEL9I/URP6iwP72xI/AAAAAAAAdI8/n-kpK4jGinQ/s320/Egg-Color-Patterns.png" width="135" /></a>&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="tr-caption" style="text-align: center;"&gt;Base-egg LED colour status debugging from <a href="http://blog.wickeddevice.com/?p=413">Wicked Device Blog</a>&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;If your familiar with the Arduino IDE we recommend you ‘crack-open’ the base-station egg and connect the USB to UART cable (included) and open up an Arduino IDE terminal window (115200 baud) to view a verbose output of the setup process. Here’s an example terminal output from a successfully connected egg:<br /><br />&lt;div style="border: 1px solid #ccc; font: 12px/22px courier; height: 200px; overflow: auto; width: 500px;"&gt;Stack: 271<br />[Air Quality Egg - Base Egg - v1.03]<br />Unit Address: xx_xx_YOUR SERIAL NUMBER HERE_xx_xx<br />3070 Received Packet During Pairing<br />85 0 4 163 55 182 217 0<br />Pairing Event Count: 1<br />8159 Received Packet During Pairing<br />85 0 4 163 55 182 217 0<br />Pairing Event Count: 2<br />Pairing complete<br /><br />Egg Serial #:  00:04:a3:37:b6:d9<br /><br />IP: 192.168.1.102<br />GW: 192.168.1.254<br />DNS: 192.168.1.254<br />Stack: 191<br />SRV: 216.52.233.121<br />Previously provisioned<br />Packet Received @ 107604<br />  Packet Type: 33<br />  Remote Firmware Version: 3<br />  Remote Station Address: 00_04_A3_37_BB_97<br />  Source Sensor Address: 00_04_A3_37_BB_97<br />  Sensor Index: 0<br />  Sensor Type: Temperature<br />  Sensor Units: deg C<br />  Sensor Value: 11<br /><br />Preparing stash<br />Sending data to Cosm<br />Data sent<br />&gt;&gt;&gt; RESPONSE RECEIVED —&lt;/div&gt;&lt;/div&gt;<br />&lt;h3&gt;Future Development&lt;/h3&gt;&lt;div&gt;Wicked Device are actively developing the air quality sensors. Most recent is a<a href="http://blog.wickeddevice.com/?p=395"> dust-sensor add-on board</a>.&lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;We would love to make the Air Quality egg sensors more integrated into the OpenEnergyMonitor system, it would be cool to be able to add an air monitor sensor to an energy monitoring system using a Raspberry Pi with a RFM12Pi as the base station. &lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;div&gt;The community crowd sourcing aspect of the AQE using Cosm as the data store has the obvious advantages of being able to easily share and compare air quality data (which is what the project is all about). However it would also be cool to get the data into emoncms for better graphing and analysis. I would love to see how the air quality date fluctuates over the days/months/year(s). &lt;/div&gt;&lt;h3&gt;Community / Troubleshooting / More info &lt;/h3&gt;As always you are most welcome to post on the active and friendly <a href="http://openenergymonitor.org/emon/forum">OpenEnergyMonitor forums</a>. However the Air Quality Egg is quite a new thing for us, more relevant support might be better obtained from:<br /><br />Air Quality Egg forum: <a href="http://osqa.wickeddevice.com/">http://osqa.wickeddevice.com/</a><br /><br />Google Group:<a href="http://forum.wickeddevice.com/"> https://groups.google.com/forum/?fromgroups#!forum/airqualityegg</a><br /><br />&lt;h4&gt;Other Sources of Information: &lt;/h4&gt;&lt;ul&gt;&lt;li&gt;Wicked Device Air Quality Egg homepage: <a href="http://aqe.wickeddevice.com/">http://aqe.wickeddevice.com</a>&lt;/li&gt;&lt;li&gt;Community wiki: <a href="http://airqualityegg.wikispaces.com/AirQualityEgg">http://airqualityegg.wikispaces.com/AirQualityEgg</a>&lt;/li&gt;&lt;li&gt;Github Source code &amp; PCB cad files: <a href="http://github.com/jmsaavedra/Air-Quality-Egg">http://github.com/jmsaavedra/Air-Quality-Egg</a>&lt;/li&gt;&lt;li&gt;<a href="https://docs.google.com/document/d/1H1Ul2SzwXkJpdXGmgnuToOhtt7pjg2RVEUEVk0KCiwY/edit">Google Doc with Fimrware Documentation</a>&lt;/li&gt;&lt;li&gt;Wicked Device Blog: <a href="http://aqe.wickeddevice.com/blog.wickeddevice.com">http://aqe.wickeddevice.com/blog.wickeddevice.com</a>&lt;/li&gt;&lt;/ul&gt;The Air Quality Egg is <a href="http://shop.openenergymonitor.com/air-quality-egg-fully-assembled/">now available in the OpenEnergyMonitor shop</a>, shipped from the UK to all Europe destinations<br /><br />&lt;/div&gt;&lt;/div&gt;</p>
]]></content>
  </entry>
  
</feed>
