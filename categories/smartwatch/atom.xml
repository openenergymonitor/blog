<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: smartwatch | Blog | OpenEnergyMonitor]]></title>
  <link href="https://blog.openenergymonitor.org/categories/smartwatch/atom.xml" rel="self"/>
  <link href="https://blog.openenergymonitor.org/"/>
  <updated>2019-08-22T13:28:37+00:00</updated>
  <id>https://blog.openenergymonitor.org/</id>
  <author>
    <name><![CDATA[Glyn Hudson]]></name>
    <email><![CDATA[support@openenergymonitor.zendesk.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Pebble Smart Watch Emoncms Heating Control Demo]]></title>
    <link href="https://blog.openenergymonitor.org/2014/08/pebble-smart-watch-emoncms-heating/"/>
    <updated>2014-08-01T15:50:00+00:00</updated>
    <id>https://blog.openenergymonitor.org/2014/08/pebble-smart-watch-emoncms-heating</id>
    <content type="html"><![CDATA[<p>This post follows on my post a while back on <a href="http://openenergymonitor.blogspot.co.uk/2013/12/emoncms-early-heating-control-demo.html">Emoncms heating control</a>, and links in with my previous post on using Tasker to display Emoncms notifications. For details of the hardware and overview of the heating control setup, see the Emoncms heating control post linked above.<br /><br />The Pebble is a Bluetooth connected smart watch which works with Apple and android smartphones. Using an e-ink display the Pebble watches achieves a week of battery life. Very impressive from a hardware point of view. I’ve been using a Pebble with my android phone for the past couple of weeks and found the Pebble to be useful for keeping up with <a href="http://openenergymonitor.blogspot.com/2014/08/android-tasker-pebble-smartwatch.html">notifications</a> while out out and about and especially for <a href="https://play.google.com/store/apps/details?id=ca.rebootsramblings.musicboss&amp;hl=en_GB">controlling music</a>, <a href="https://play.google.com/store/apps/details?id=com.batescorp.pebble.nav&amp;hl=en_GB">navigation directions</a> and <a href="https://play.google.com/store/apps/details?id=com.strava&amp;hl=en_GB">activity tracking</a> while out biking, running, driving and even swimming!<br /><br />The thought occurred to me that the Pebble could potentially be a super convenient way to quickly control my heating. I’ve got working a simple demo to turn my heating on and off, the could easily be extended to allow setting a set point.<br /><br />When the Pebble was first released my friend Ryan Brooks put together a <a href="http://openenergymonitor.blogspot.com/2014/02/pebble-smart-watch-emoncms-display.html">demo to display feed data from Emoncms on the pebble</a>. The code for this demo is up on GitHub, however since then things have moved on, Pebble have released SDK 2.0 and launched the pebble app store allowing many applications to be easily loaded onto the Pebble. One of the more powerful applications is <a href="https://play.google.com/store/apps/details?id=com.kodek.pebbletasker&amp;hl=en_GB">Pebble Tasker</a>, when linked with the <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">main Tasker App</a> on an android phone the possibles are endless. See my previous <a href="http://openenergymonitor.blogspot.com/2014/08/android-tasker-pebble-smartwatch.html">blog post on using Tasker to display Emoncms notification on an android phone</a>. Taking inspiration from <a href="http://nathan.chantrell.net/home-automation/">Nathan Chantrell’s home automation setup</a> using Pebble and Tasker I decided to have a go at directly controlling my heating from my Pebble, here is the result:<br /><br />&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://1.bp.blogspot.com/-_SSMd3zwwb4/U9p1Vm5zYDI/AAAAAAAA4ns/QS82TULGXx8/s1600/P1050327.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-_SSMd3zwwb4/U9p1Vm5zYDI/AAAAAAAA4ns/QS82TULGXx8/s1600/P1050327.JPG" height="240" width="320" /></a>&lt;/div&gt;<br /><br />&lt;iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/yRyeDhEQVkg" width="560"&gt;&lt;/iframe&gt; <br />&lt;div class="separator" style="clear: both; text-align: center;"&gt;&lt;/div&gt;<br /><br />&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://4.bp.blogspot.com/-sJ0ArawyZgQ/U9p1WUgL-7I/AAAAAAAA4nw/SUXXwndvDN4/s1600/P1050328.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-sJ0ArawyZgQ/U9p1WUgL-7I/AAAAAAAA4nw/SUXXwndvDN4/s1600/P1050328.JPG" height="240" width="320" /></a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;Here are the steps to replicate this system:&lt;/div&gt;&lt;h3 style="clear: both; text-align: left;"&gt;1. Install Emoncms on a Raspberry Pi and enable RF12 Packetgen Module &lt;/h3&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;I used the new pre-built SD card image for the low write version of emoncms, downloadable from the link below. This is soon to become our default Raspberry Pi pre-built image once testing is complete&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<a href="https://github.com/emoncms/emoncms/tree/bufferedwrite">https://github.com/emoncms/emoncms/tree/bufferedwrite</a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;Following the setup guide enable local logging and configure emonHub&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<a href="https://github.com/emoncms/emoncms/blob/bufferedwrite/docs/setup.md">https://github.com/emoncms/emoncms/blob/bufferedwrite/docs/setup.md</a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;The heating control setup requires the emoncms Packetgen module. Follow the steps to enable packetgen to work with emonHub. &lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<a href="https://github.com/emoncms/emoncms/blob/bufferedwrite/docs/emonhubmod.md">https://github.com/emoncms/emoncms/blob/bufferedwrite/docs/emonhubmod.md</a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;More info on packetgen module can be found: <a href="https://github.com/emoncms/packetgen">https://github.com/emoncms/packetgen</a>&lt;/div&gt;&lt;h3 style="clear: both; text-align: left;"&gt;2. Setup RFM12B receiver and control relay &lt;/h3&gt;&lt;div&gt;To perform the actual control of the boiler you will need to setup an RFM12B receiver node with a relay or similar. The actual hardware setup will depend on what you want to control, a JeeLink or partially populated emonTx V2 work well as a good base for the control hardware. See my <a href="http://openenergymonitor.blogspot.com/2013/12/emoncms-early-heating-control-demo.html">previous post on heating control</a> for more info regarding the hardware. The packetgen module will provide an example Arduino sketch to upload. &lt;/div&gt;&lt;div&gt;<br />&lt;/div&gt;&lt;h3&gt;3. Install and Configure Tasker on your android Phone &lt;/h3&gt;&lt;div&gt;<a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm</a><br /><br />&lt;div&gt;The emoncms API to set a packetgen variable is as follows:<br /><br /><i>http://YOUR_EMONCMS_SERVER_IP_OR_HOSTNAME/emoncms/packetgen/update.json?id=4&amp;value=1&amp;apikey=”YOUR_RW_APIKEY”</i>&lt;/div&gt;&lt;div&gt;<br />ID is the id of the packetgen variable (they start at 0) and value is the value to be set, the example above will turn the heating on setting variable 4 which in my setup is a boolean control variable to ‘1’. You can test if this is working by calling the API in your browser.<br /><br />&lt;/div&gt;I’ve created a Tasker template task which calls the above API which can be downloaded from Github and imported into Tasker, follow instructions on Github Readme. Variables should be self-explanatory.<br /><br /><a href="https://github.com/emoncms/androidTasker">https://github.com/emoncms/androidTasker</a><br /><br />&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://4.bp.blogspot.com/-cUl9ckQsfuY/U9uzvgik16I/AAAAAAAA4s0/L8JNp-rUeE8/s1600/2014-08-01+15.32.06.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-cUl9ckQsfuY/U9uzvgik16I/AAAAAAAA4s0/L8JNp-rUeE8/s1600/2014-08-01+15.32.06.png" height="640" width="400" /></a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;If a successful response is received from the Emoncms server a ‘success’ notification is displayed, else a fail notification is activated. &lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://4.bp.blogspot.com/-PqdqiEaQ0IU/U9u0XAshGiI/AAAAAAAA4tA/U4Z2b-S7LmU/s1600/2014-08-01+15.32.51.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-PqdqiEaQ0IU/U9u0XAshGiI/AAAAAAAA4tA/U4Z2b-S7LmU/s1600/2014-08-01+15.32.51.png" height="400" width="225" /></a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<br />&lt;/div&gt;<br />Home screen Tasker task shortcut widgets can be created on your android home screen to allow Tasker tasks to be easily activated, or profiles can be setup to turn the heating on as you arrive home / leave work or certain times per day. The possibles are endless! Just make sure your system has some hardware fail-safe so you don’t get home to a house like a sauna or worse!<br /><br />&lt;/div&gt;&lt;div&gt;<br />If you are setting up Tasker yourself from scratch setup GET requst as follows:&lt;/div&gt;&lt;div&gt;<br /><i>New Task &gt; + new action &gt; net &gt; HTTP GET &gt; enter HTTP API above into host and (optionally) write output to log file </i>&lt;/div&gt;&lt;h3&gt;<br />4. Install &amp; configure Pebble Tasker on the Pebble Watch&lt;/h3&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<a href="https://play.google.com/store/apps/details?id=com.kodek.pebbletasker&amp;hl=en_GB">https://play.google.com/store/apps/details?id=com.kodek.pebbletasker&amp;hl=en_GB</a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;To map Tasker tasks to allow easy control from a Pebble &lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<a href="http://1.bp.blogspot.com/-d7UrLZR3-qU/U9umjLXlyEI/AAAAAAAA4sY/aLp4ph6XcXw/s1600/2014-07-31+17.10.26.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-d7UrLZR3-qU/U9umjLXlyEI/AAAAAAAA4sY/aLp4ph6XcXw/s1600/2014-07-31+17.10.26.png" height="400" width="225" /></a>&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: center;"&gt;<br />&lt;/div&gt;&lt;h3 style="clear: both; text-align: left;"&gt;Other Pebble Tweaks I’ve found useful&lt;/h3&gt;&lt;div style="clear: both; text-align: left;"&gt;While not directly relevant to heating control here are some further details of my Pebble smartwatch setup: &lt;/div&gt;&lt;div style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div style="clear: both; text-align: left;"&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;Using <a href="http://pebblebits.com/">PebbleBits firmware</a> on the pebble to quickly launch pebble apps from the watch face&lt;/li&gt;&lt;li&gt;Using <a href="https://github.com/emoncms/androidTasker/blob/master/Strava_Start___Stop.tsk.xml">Tasker to Stop / Start Strava </a>&lt;/li&gt;&lt;li&gt;<a href="http://www.mypebblefaces.com/apps/1486/1299/">Modern Watchface</a> is my favourite watch face (shown in demo above)&lt;/li&gt;&lt;li&gt;<a href="https://play.google.com/store/apps/details?id=ca.rebootsramblings.musicboss&amp;hl=en_GB">Music Boss </a>is great for controlling music and starting podcasts while driving or biking&lt;/li&gt;&lt;li&gt;<a href="https://play.google.com/store/apps/details?id=com.batescorp.pebble.nav&amp;hl=en_GB">NavMe</a> is great for directions on the Pebble while on the bike  &lt;/li&gt;&lt;li&gt;Tasker can be used to send commonly sent SMS’s and call favourite contacts direct from the Pebble &lt;/li&gt;&lt;/ul&gt;<br />&lt;div style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;<br />&lt;/div&gt;<br /><br /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pebble Smart Watch Emoncms Display & Heating Control - Dev]]></title>
    <link href="https://blog.openenergymonitor.org/2014/02/pebble-smart-watch-emoncms-display/"/>
    <updated>2014-02-04T08:02:00+00:00</updated>
    <id>https://blog.openenergymonitor.org/2014/02/pebble-smart-watch-emoncms-display</id>
    <content type="html"><![CDATA[<p>Smart watches seem to be all the rave at the moment. They could potentially be a convenient way to check your power and temperature feeds, be notified of events and control your heating.<br /><br />Our friend Ryan Brooks (<a href="http://twitter.com/spikeheap">@spikeheap</a>) has been working on getting <a href="http://emoncms.org/">Emoncms</a> feeds to display on his Pebble Smart watch as well as making the fist steps towards controlling his <a href="http://ryanbrooks.co.uk/posts/2013-12-08-pi-powered-central-heating-phase-1/">RaspberryPi controlled heating</a> from his wrist.<br /><br />Take it away Ryan&gt;<br /><br /><br />&lt;iframe allowfullscreen="" frameborder="0" height="315" src="//www.youtube.com/embed/Z_qfPJ3LNwQ" width="420"&gt;&lt;/iframe&gt; <br /><br /><br />Ryan’s code it all on GitHub if anyone fancies joining the fun. It would be great to get an Emoncms app in the in new Pebble app store. Even if it is just a simple as being able to display a single Emoncms feed this would be pretty cool.<br /><br /><a href="https://github.com/spikeheap/pebble-emoncms">https://github.com/spikeheap/pebble-emoncms</a></p>
]]></content>
  </entry>
  
</feed>
