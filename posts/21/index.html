<!doctype html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]><!--> <html> <!--<![endif]-->

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blog | OpenEnergyMonitor</title>
    <meta name="author" content="Glyn Hudson">
    <meta name="description" content="OpenEnergyMonitor Blog">
    
    <meta name="viewport" content="width=device-width">
    <link rel="canonical" href="https://blog.openenergymonitor.org/posts/21/">

    <meta property="fb:app_id" content="">
    <meta property="og:title" content="Blog | OpenEnergyMonitor">
    <meta property="og:site_name" content="Blog | OpenEnergyMonitor">
    <meta property="og:url" content="https://blog.openenergymonitor.org/posts/21/">
    <meta property="og:type" content="website">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@openenergymon">
    
    <meta name="twitter:title" content="Blog | OpenEnergyMonitor">
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://guide.openenergymonitor.org/images/favicon-192x192.png">

    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet">
    <link href="/atom.xml" rel="alternate" title="Blog | OpenEnergyMonitor" type="application/atom+xml">
    <link rel='shortcut icon' href='/images/favicon.ico' />
    <link rel='icon' type='image/png' href='/images/favicon-192x192.png' sizes='192x192' />



    <link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/images/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/images/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/images/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
	<link rel="apple-touch-icon" href="/images/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/images/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/images/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/images/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/images/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/images/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/images/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/images/favicon-144.png">
	<meta name="msapplication-config" content="/images/browserconfig.xml">
  <link href="https://fonts.googleapis.com/css?family=Ubuntu:light,bold&amp;subset=Latin" rel="stylesheet"> <!-- Ubuntu font -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  </head>

<style>

@font-face {
  font-family: "oemFont";
  src: url(/font/Ubuntu-OEM-Light.ttf)
}

html, body {
  margin: 0; height: 100vh;
}

html {
  min-height: 100vh;
}

html, body {
  word-wrap: break-word;
  font-family: "oemFont", sans-serif;
}

a:visited, .a:hover, a:focus, a {
  color: #44b3e2;
}

.meta.clearfix {
  overflow-x: hidden;
}

.communityWrapper {
  position: relative;
  box-sizing: border-box;
  margin: 0 auto;
  width: 100%;
  height: 42px;
}

@media (min-width: 1080px) {
  .communityWrapper {
  width: 1080px;
  }
}

@media screen and (max-width: 400px) {
  .oemWrap {
  display: none;
  }
}

.fa-navicon {
  display: none;
  cursor: pointer;
  font-size: 30px;
  line-height: 42px;
  position: absolute;
  left: 0;
  color: #ffffff;
  padding-left: 12px;
  z-index: 9997;
}

@media screen and (max-width: 1079px) {
  .fa-navicon {
  display: inline-block;
  }
}

.titleHolder {
  position: relative;
  top: 0;
  width: 100%;
  height: 42px;
  background-color: #44b3e2;
  overflow: hidden;
  -webkit-box-shadow: 0 -2px 4px 2px #000;
  -moz-box-shadow: 0 -2px 4px 2px #000;
  box-shadow: 0 -2px 4px 2px #000;
}

.titleIcon {
  position: absolute;
  height: 42px;
  padding: 0 0 0 7px;
  text-align: center;
  line-height: 42px;
  color: #ffffff;
  vertical-align: top;
}

  .titleIcon i {
    vertical-align: middle;
    font-size: 32px;
    line-height: 42px;
  }

.thisTitle {
  position: absolute;
  box-sizing: border-box;
  left: 42px;
  right: 0;
  height: 42px;
  padding: 5px 0 5px 0;
  text-align: left;
  color: #ffffff;
  line-height: normal;
  vertical-align: top;
}

  .thisTitle a {
    position: absolute;
    top: 0;
    color: #ffffff;
  }

@media screen and (max-width: 1079px) {
  .titleIcon {
    left: auto;
    right: 0;
    padding: 0 7px 0 0;
  }

  .thisTitle {
    right: 42px;
    left: 0;
    text-align: right;
  }

    .thisTitle a {
      padding-right: 0;
    }
}

.thisTitle-top {
  top: 0;
  height: 60%;
  font-size: 18px;
}

.thisTitle-bottom {
  bottom: 0;
  height: 40%;
  font-size: 12px;
}

.navigation {
  position: absolute;
  display: inline-block;
  top: 0;
  right: 0;
  margin-right: 6px;
  height: 42px;
  min-width: 774px;
  overflow: visible;
  padding-right: 7px;
  z-index: 20;
  box-sizing: content-box;
}

@media screen and (min-width: 1080px) {
  .navigation {
  position: relative;
  float: right;
  display: inline-block;
  margin: 0;
  }
}

.navigation ul {
  list-style-type: none;
  float: right;
  top: 0;
  margin: 0;
  padding: 0;
  height: 100%;
  display: block;
}

.navigation ul li {
  float: left;
  background-color: #44b3e2;
}

.navigation ul li a {
  display: block;
  line-height: 42px;
  font-family: "oemFont", sans-serif;
  font-size: 16px;
  text-align: center;
  padding-left: 10px;
  padding-right: 10px;
  color: #ffffff;
}

.menuFreeze {
  height: 100%;
  overflow: hidden;
}

/* Navigation on smaller screens... */

@media screen and (max-width: 1079px) {
.navigation {
  position: fixed;
  display: none;
  top: 0;
  left: 0;
  height: 100vh;
  margin: 0;
  width: 0;
  font-size: 20px;
  background-color: #44b3e2;
  color: #ffffff;
  box-sizing: border-box;
  overflow: auto;
  min-width: 0;
  padding-right: 0;
  z-index: 99999999;
}

  .navigation ul {
    list-style-type: none;
    margin: 0;
    padding-top: 0;
  }

  .navigation ul li a {
    box-sizing: border-box;
    font-family: "oemFont", sans-serif;
    font-size: 20px;
    display: block;
    color: #ffffff;
    padding: 0 20px 0 20px;
    height: 12.5vh;
    line-height: 12.5vh;
    min-width: 180px;
    text-align: left;
  }

  .navigation ul li .fa {
    min-width: 25px;
  }
}

@media (max-width: 1079px) and (min-height: 550px) {
  .navigation ul li a {
    height: 68.75px;
    line-height: 68.75px;
  }
}

@media (max-width: 1079px) and (max-height: 200px) {
  .navigation ul li a {
    height: 25px;
    line-height: 25px;
  }
}

@media screen and (min-width: 1080px) {
  .navigation ul li:nth-child(1) {
    width: 88px;
  }
  .navigation ul li:nth-child(2) {
    width: 86px;
  }
  .navigation ul li:nth-child(3) {
    width: 92px;
  }
  .navigation ul li:nth-child(4) {
    width: 123px;
  }
  .navigation ul li:nth-child(5) {
    width: 133px;
  }
  .navigation ul li:nth-child(6) {
    width: 76px;
  }
  .navigation ul li:nth-child(7) {
    width: 80px;
  }
  .navigation ul li:nth-child(8) {
    width: 96px;
  }
}

.blackOut {
  position: fixed;
  display: none;
  top: 0;
  right: 0;
  height: 100vh;
  width: 100%;
  background-color: rgba(0,0,0,0.5);
  overflow: hidden;
  cursor: pointer;
  z-index:9998;
}

.actoemLink {
  background-color: #368fb4 !important;
}

.actoemLink a {
  color: #ffffff !important;
}

.searchBox {
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgba(0,0,0,0.8);
  color: #fff;
  display: none;
  cursor: pointer;
  z-index: 9999999999999;
}

.searchBox form {
  margin: auto;
}

.searchBox input[type=submit] {
  cursor: pointer;
  padding: 10px;
  font-size: 20px;
  font-weight: bold;
  background-color: #44b3e2;
  color: #fff;
  border: none;
  -webkit-transition: background-color 500ms linear;
  -ms-transition: background-color 500ms linear;
  transition: background-color 500ms linear;
}

.searchBox input[type=submit]:hover {
  background-color: #77c8ea;
}

.searchBox input[type=text] {
  padding: 10px;
  font-size: 20px;
  border: none;
}

.searchText {
  width: 0;
}

.searchIcon {
  cursor: pointer;
}

.fa {
  text-shadow: 2px 2px 2px rgba(150, 150, 150, 0.5);
}

</style>

<body >




<div class="titleHolder">
  <div class="communityWrapper">
    <i class="fa fa-navicon"></i>
    <a href="/">
      <div class="titleIcon">
				<i aria-hidden="true" class="fa fa-bullhorn"></i>
			</div>
			<div class="thisTitle">
			  <div class="thisTitle-top">
        		<b>Blog</b>
				</div>
				<div class="thisTitle-bottom">
          Open<b>EnergyMonitor</b>
				</div>
			</div>
		</a>
    <div id="siteLinks" class="navigation">
      <ul>
        <li title="the homepage of OpenEnergyMonitor">
          <a href="https://openenergymonitor.org">
            <i class="fa fa-home" aria-hidden="true"></i><span class="navname">&nbsp;Home</span>
          </a>
        </li>
        <li title="a user guide for the OpenEnergyMonitor system">
          <a href="https://guide.openenergymonitor.org">
            <i class="fa fa-book" aria-hidden="true"></i><span class="navname">&nbsp;Guide</span>
          </a>
        </li>
        <li title="general information about energy monitoring, diversion and sustainability">
          <a href="https://learn.openenergymonitor.org">
            <i class="fa fa-mortar-board" aria-hidden="true"></i><span class="navname">&nbsp;Learn</span>
          </a>
        </li>
        <li title="a definitive list of resources for OpenEnergyMonitor hardware">
          <a href="https://guide.openenergymonitor.org/technical/resources/">
            <i class="fa fa-list-alt" aria-hidden="true"></i><span class="navname">&nbsp;Resources</span>
          </a>
        </li>
        <li title="the openenergymonitor forum">
          <a href="https://community.openenergymonitor.org">
            <i class="fa fa-comments" aria-hidden="true"></i><span class="navname">&nbsp;Community</span>
          </a>
        </li>
        <li title="you are here: keep up with new developments at OpenEnergyMonitor" class="actoemLink">
          <a href="https://blog.openenergymonitor.org">
            <i class="fa fa-bullhorn" aria-hidden="true"></i><span class="navname">&nbsp;Blog</span>
          </a>
        </li>
        <li title="the official OpenEnergyMonitor online store">
          <a href="https://shop.openenergymonitor.com">
            <i class="fa fa-shopping-cart" aria-hidden="true"></i><span class="navname">&nbsp;Shop</span>
          </a>
        </li>
				<li title="search for something on OpenEnergyMonitor">
					<a class="searchIcon">
					    <i aria-hidden="true" class="fa fa-search"></i><span class="navname">&nbsp;Search</span>
				  </a>
				</li>
      </ul>
    </div>
  </div>
</div>
<div class="searchBox">
  <form target="_blank" id="searchform" action="https://www.google.com/cse">
    <div>
      <input type="hidden" name="cx" value="006198118389747886812:_nmxikw563w" />
      <input type="hidden" name="ie" value="UTF-8" />
      <input type="text" class="searchText" value="" name="q" id="q" autocomplete="off" />
      <input type="submit" id="searchsubmit" name="sa" value="Search" />
    </div>
  </form>
</div>
<div class="blackOut"></div>
<div style="position:relative;width:100%;top:0;height:20px"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script defer src="/javascripts/octopress.js"></script>

<script>
  var _gaq=[['_setAccount','UA-10321170-4'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
<script>
  var disqus_shortname = 'openenergymonitor';
  
    
    var disqus_script = 'count.js';
  
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js">
  $(document).ready(function(){
    if (!window.jXHR){
      var jxhr = document.createElement('script');
      jxhr.type = 'text/javascript';
      jxhr.src = '/javascripts/libs/jXHR.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jxhr, s);
    }

    github.showRepos({
      user: 'openenergymonitor',
      count: 5,
      skip_forks: true,
      target: '#gh_repos'
    });
  });
</script>
<script src="/javascripts/github.js"></script>

<script>

var closeStatus = false;

function openButton() {
  $("html, body").addClass("menuFreeze");
  $(".blackOut").show();
  $(".navigation").show();
  $(".navigation").animate({ width:'180' },"0.5s");
}

$(".fa-navicon").click(function() {
  openButton();
  closeStatus = true;
});

function closeButton() {
  $("html, body").removeClass("menuFreeze");
  $(".blackOut").hide();
  $(".navigation").animate({ width:'0' },"0.5s");
}

$(".blackOut").click(function() {
  closeButton();
  closeStatus = false;
});

$(document).ready(function(){
  $("table").wrap("<div style='max-width:100%;overflow-x:auto'></div>");
});

$(window).resize(function(){
  if ($(window).width() > 1079 && closeStatus == true) {
    if (!$("html").hasClass("mobile-device")) {
      closeButton();
      closeStatus = false;
    }
  }
});

$(".searchIcon").click(function() {
   $(".searchBox").css("display","flex");
   $(".searchText").animate({width: "200px"});
   $(".searchText").focus();
   $("html, body").addClass("menuFreeze");
});
$(".searchBox").click(function() {
   $(".searchBox").css("display","none");
   $(".searchText").blur();
   $(".searchText").css("width","0");
   closeButton();
});
$(".searchBox form").click( function(event) {
   event.stopPropagation();
});

$(document).ready(function(){ //alphabetically order list
  var ls, x, switchState, z, switchMe;
  ls = document.getElementById("ub202");
  switchState = true;
  while (switchState) {
    switchState = false;
    z = ls.getElementsByTagName("LI");
    for (x = 0; x < (z.length - 1); x++) {
      switchMe = false;
      if (z[x].innerHTML.toLowerCase() > z[x + 1].innerHTML.toLowerCase()) {
        switchMe= true;
        break;
      }
    }
    if (switchMe) {
      z[x].parentNode.insertBefore(z[x + 1], z[x]);
      switchState = true;
    }
  }
});

</script>

<div class="grid-wrapper">
  <div class="grid grid-center">
    
    <div class="grid__item two-thirds lap-one-whole palm-one-whole">
    

        
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2013/01/power-emontx-from-single-ac-power/">Power emonTx from single AC power supply - Part 2 bench testing </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2013-01-31T23:49:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2013-01-31 23:49:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> seven minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/electronics/'>electronics</a></li>
      
        <li><a class='category' href='/categories/emontx/'>emonTx</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2013/01/power-emontx-from-single-ac-power/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <br /><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Back in May last year we did some work (with the help of Robert Wall and others) into the design of an AC-DC circuit to allow the emonTx to run off a single AC power adapter while at the same time taking accurate AC voltage samples to be used for Vrms, real power, frequency and power factor calculations. <a href="http://openenergymonitor.blogspot.co.uk/2012/05/emontx-single-ac-power-supply.html">Read the original blog post detailing how the circuit works</a>. Basicly, it's a half wave rectifier circuit with a carefully chosen value current limiting resistor.&nbsp;</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Just to recap, the challenge is powering the emonTx with 3.3V DC while not loading the AC adapter as to not effect the quality of the AC sine wave sample. An as close to perfect AC sample is desirable for best accuracy of real power readings,&nbsp;</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">We have finally got round to testing the circuit we simulated using LT SPICE. In summary, results are positive, the circuit works as expected!</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Here's what I did: the following circuit was built on a bread board, using an emonTx with the voltage regulator. The <a href="http://shop.openenergymonitor.com/ac-ac-adapter-uk-plug/">standard Ideal Power 9V AC-AC adapter</a> from the shop was used for the test.<br /><br /></div><div style="margin-bottom: 0cm;"><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-efRwc-_9iZo/UQsBx0N6oJI/AAAAAAAAdH0/ueIjVqug5Eg/s1600/2013-01-31+20.50.48.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="240" src="http://4.bp.blogspot.com/-efRwc-_9iZo/UQsBx0N6oJI/AAAAAAAAdH0/ueIjVqug5Eg/s320/2013-01-31+20.50.48.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Scope trace showing input to voltage regulator</td></tr></tbody></table></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-3El_MoBPMCI/T8H-QwqxftI/AAAAAAAAbn4/Zl-kBlwbQRI/s1600/Half+wave+rectifier+power+supply+labeled+diagram.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="188" src="http://1.bp.blogspot.com/-3El_MoBPMCI/T8H-QwqxftI/AAAAAAAAbn4/Zl-kBlwbQRI/s640/Half+wave+rectifier+power+supply+labeled+diagram.png" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Half-wave rectifier circuit</td></tr></tbody></table><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">A sketch was uploaded to the ATmega328 on the emonTx to cycle through a number of different power levels while using a scope to measure the sawtooth voltage waveform going into the MCP1702 voltage regulator. The following was recorded  </div><div style="margin-bottom: 0cm;"><br /></div><table cellpadding="4" cellspacing="0" style="width: 100%px;"> <colgroup><col width="51*"></col> <col width="51*"></col> <col width="51*"></col> <col width="51*"></col> <col width="51*"></col> </colgroup><tbody><tr valign="TOP">  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: 1px solid #000000; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0.1cm;" width="20%"><b>Power State</b></td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: 1px solid #000000; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0.1cm;" width="20%"><b>Current draw</b></td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: 1px solid #000000; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0.1cm;" width="20%"><b>Vrms into MCP1702</b></td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: 1px solid #000000; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0.1cm;" width="20%"><b>Delta V into MCP1702</b></td>  <td style="border: 1px solid #000000; padding: 0.1cm;" width="20%"><b>AC Voltage sample ripple     </b></td> </tr><tr valign="TOP">  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">Sleep</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">25uA</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">16.4V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">0V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm; padding-top: 0cm;" width="20%"><br /><br /></td> </tr><tr valign="TOP">  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">ATmega328 only</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">7.7mA</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">12.7V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">2.72V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm; padding-top: 0cm;" width="20%"><br /><br /></td> </tr><tr valign="TOP">  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">ATmega328 + RFM12B     </td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">8.1mA</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">12.5V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">2.8V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm; padding-top: 0cm;" width="20%"><br /><br /></td> </tr><tr valign="TOP">  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">ATmega328 + LED</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">16.9mA</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">10.1V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">5.5V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm; padding-top: 0cm;" width="20%"><br /><br /></td> </tr><tr valign="TOP">  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">ATmega328 + LED + RFM12B</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">17.3mA</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">10V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0cm; padding-top: 0cm;" width="20%">5.53V</td>  <td style="border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; border-top: none; padding-bottom: 0.1cm; padding-left: 0.1cm; padding-right: 0.1cm; padding-top: 0cm;" width="20%">Approx 80mV (limit of the scope)</td> </tr></tbody></table><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">The voltage limited zener diode was omitted from the test setup but will be present in the main circuit to avoid over volting the MCP1702 when supply is un-loaded.  </div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">The AC voltage sample will be taken when the emonTx is consuming 7.7mA (ATmega328 only running), the test has assured me that the circuit will be able to provide 3.3V DC without hardly any distortion to the AC waveform. There was only a 80mV ripple when drawing 17mA we can expect the ripple to be under half this when the emonTx is drawing 7.7mA.  </div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">It's interesting to note that the RMF12B (when idle, not sleeping) draws 0.4mA and the LED draws 9.2mA. The circuit is speed up to 20mA max so it would be possible to add one DS28B20 that will at maxim consume 2.3mA for short periods.  </div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">AC-DC circuit will be incorporated into the next version of the emonTx. Further testing will be done on this prototype to double check everything.  </div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Roll on single power supply Real Power accurate energy monitoring. As well as being a neater setup it will also significantly reduce the carbon footprint and amount of electrical waste which will eventually go into landfill if we can enable the emonTx to only need the one plug-in power adapter.&nbsp;</div><div style="margin-bottom: 0cm;"><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/12/a-big-thank-you-to-everyone/">A big thank you to everyone</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-12-29T02:01:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-12-29 02:01:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/openenergymonitor/'>openenergymonitor</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/12/a-big-thank-you-to-everyone/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <br /><div style="margin-bottom: 0cm;">As you know OpenEnergyMonitor is a collaborative project. The project would be nothing without the hard work, time and effort that so many of you dedicate.  </div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">With the festive season upon us and the year coming to an end I would like to take this opportunity to say a big thank you to everyone who's contributed in some way to the project over the past year.&nbsp;Contributions could be anything from a whole new module, fixing a bug, correcting a typo to helping out with discussions and support on the forums.&nbsp;We very much appreciate every contribution no matter how small.&nbsp;</div><div style="margin-bottom: 0cm;"><br />Helping out with friendly support on the forums is an area where we are particularly grateful for assistance, as the project grows bigger (we're almost at 3000 registered users!) so does the user support requirements. It makes me very happy to see that the forums are a friendly place for new users to ask for help, as well as the first point of call for  discussing an idea.</div><div style="margin-bottom: 0cm;"><br /></div><div style="margin-bottom: 0cm;">Here are a few names of people that I've picked up as making a significant contribution to the project over the past year. I apologise if I've missed anyone (I almost certainly have), if you think you too should be in this list please drop me and email and I'll add you on:</div><div style="margin-bottom: 0cm;"></div><ul><br /></ul><ul><li><a href="http://openenergymonitor.org/emon/user/924">Robert Wall</a> - significant contributions of his expert electronics knowledge to the project and contribution of several major documentation sections.&nbsp;</li><li><a href="http://harizanov.com/">Martin&nbsp;Harizanov -</a> RFM12Pi and Raspberry Pi as emonBase development hardware &amp; software</li><li><a href="http://openenergymonitor.org/emon/user/956">Robin Emley (calpso_rae)</a> - Solar PV immersion water heating controller development</li><li><a href="http://openenergymonitor.org/emon/user/238">Paul Reed</a> -&nbsp;Solar PV immersion water heating controller development</li><li><a href="http://openenergymonitor.org/emon/user/450">Stuart Pittaway (stuart)</a> -&nbsp;Solar PV immersion water heating controller, <a href="https://github.com/stuartpittaway/ArduinoSolarPowerController">significant software development</a></li><li><a href="http://openenergymonitor.org/emon/user/1165">Richard McDonald (richmc)</a> - Solar PV immersion water heating controller development</li><li><a href="http://openenergymonitor.org/emon/user/1399">Ian Beck (series530)</a> - Solar PV immersion water heating controller, integration of emonTx and emonGLCD</li><li><a href="http://openenergymonitor.org/emon/user/641">Baptiste Gaultier (galouf) </a>- emoncms and website front page graphic design&nbsp;</li><li><a href="http://openenergymonitor.org/emon/user/877">Ildefonso Martínez</a> - significant emoncms contributions</li><li><a href="https://github.com/mattwire">Matthew Wire</a> - emoncms input processing GUI</li><li><span style="background-color: white; vertical-align: baseline;"><a href="https://github.com/MarsFlyer">Paul Allen</a> -</span>&nbsp;emoncms histogram graphs</li><li><a href="https://github.com/elyobelyob">Nick Boyle</a> - emoncms MQTT, Event module</li><li><a href="http://openenergymonitor.org/emon/user/1332">Jörg Becker</a>&nbsp;- Solar PV dump load controller, software debugging&nbsp;</li></ul><ul><li>MrSharkey - Significant contribution into solar PV dump load controller design by investigating the characteristics of digital meters.</li><li>Everyone else who I've failed to mention...&nbsp;</li></ul>Thank you again and a Merry Christmas and a Happy New Year to all!<br /><br /><i>..no blog post is&nbsp;complete&nbsp;without an image, here's one a took a few weeks back. It rather sums up the winter we're currently having here in North Wales. Sadly rather wet and warm, rather than cold and icy. I suppose it's good news for heating energy!&nbsp;</i><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-6tmSN_YjvcE/UN5NXvOwNxI/AAAAAAAAdGk/hClatF-9tF4/s1600/DSCF2876.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://3.bp.blogspot.com/-6tmSN_YjvcE/UN5NXvOwNxI/AAAAAAAAdGk/hClatF-9tF4/s320/DSCF2876.JPG" width="238" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;"><i>Water puddle reflections from a wet and windy North Wales, UK in December&nbsp;</i></td></tr></tbody></table><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/12/tax-and-seasons-greetings/">Tax and Season's Greetings...</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-12-24T22:40:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-12-24 22:40:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/shop/'>shop</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/12/tax-and-seasons-greetings/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <br /><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><span style="font-size: 13px;">...those are two words which are not often used together!</span></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><span style="font-size: 13px;"><br /></span></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><span style="font-size: 13px;">Since launching the</span><span style="font-size: 13px;">&nbsp;</span><a href="http://shop.openenergymonitor.com/" style="color: #1155cc; font-size: 13px;" target="_blank">OpenEnergyMonitor online-shop</a><span style="font-size: 13px;">&nbsp;</span><span style="font-size: 13px;">in March this year we have been busy shipping over 1300 order to 47 countries.</span></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;">A big thank you to everyone who has helped support the project by purchasing items from the shop. Money raised will be used to fund future developments and the continued running of the project. &nbsp;</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;">Success has brought with it the administrative requirements of accounting and specifically tax accounting, As of November 2012 we are now a <a href="http://www.hmrc.gov.uk/vat/index.htm">UK VAT </a>registered partnership (our business name is <a href="http://megni.co.uk/">Megni </a>- which means energy monitoring in <a href="http://en.wikipedia.org/wiki/Welsh_language">Welsh</a>). Our prices in the shop now include VAT (currently 20%), we have managed to do this without increase our prices. Our invoices now &nbsp;include our VAT number&nbsp;<span style="color: #666666; font-family: 'Trebuchet MS', arial; font-size: 14px;">GB 152 7345 15.</span><span style="font-size: 13px;">&nbsp;</span></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><i>If you're are a VAT registered UK business</i>&nbsp;– this is good news for you as you will be able to claim the VAT back on purchases from us.</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><i>If you're a VAT registered business outside the UK but in the EU</i>&nbsp;– you can request a VAT refund from us on future orders</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><i>If you're a customer outside the EU</i>- This is good news for you as sales to you will be zero VAT rated, you don't pay UK VAT but you will have to pay import TAX in your country. We will state the invoice total amount on the shipping documentation.</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;">Please let us know if notice us making any mistakes with regard to how we issue invoices and price products with regard to VAT. We're only human and are learning all about this as we go along!</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;">Merry Christmas and a Happy New Year to all.</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;"><br /></div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;">Best wishes,&nbsp;</div><div style="background-color: white; color: #222222; font-family: arial, sans-serif; font-size: 13px; margin-bottom: 0cm;">Glyn Hudson and Trystan Lea</div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/12/the-openenergymonitor-meetup-last/">OpenEnergyMonitor Meetup</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-12-11T23:06:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-12-11 23:06:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> three minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/oem-labs/'>OEM Labs</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/12/the-openenergymonitor-meetup-last/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div>We had a very enjoyable OpenEnergyMonitor meetup last weekend. <a href="http://sustburbia.blogspot.co.uk/">Ken Boak</a>&nbsp;and Paul Allen (<a href="http://wattdata.blogspot.co.uk/">MarsFlyer</a>) &nbsp;came up from London, <a href="http://www.meetup.com/Cleanweb-London/members/61999412/">Matt Fawcett</a>&nbsp;from Manchester and&nbsp;Carlos Alonso Gabizó from Machynlleth.</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-xhG9CVG7DA0/UMe3aCyMmwI/AAAAAAAACh8/dzSKv8rkovk/s1600/IMAG1020.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="225" src="http://4.bp.blogspot.com/-xhG9CVG7DA0/UMe3aCyMmwI/AAAAAAAACh8/dzSKv8rkovk/s400/IMAG1020.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">From left to right: Glyn, Matt, Ken</td></tr></tbody></table>We did a surprising amount of development in such as short time as well having some great discussions. Here's a summary of what we worked on:<br /><div><br /><b>Controlling wireless nodes from emoncms </b><br />Ken Boak and I worked on furthering a way for emoncms to be able to send commands back to the gateway and wireless nodes, which could be used as part of a system for turning on and off heating systems and setting set point temperatures. There's now a new optional emoncms module called command where you can add commands to a queue that can then be requested by the gateway. Download the module here:&nbsp;<a href="https://github.com/emoncms/command">https://github.com/emoncms/command</a></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-jQInd15tukc/UMe5Kou25SI/AAAAAAAACiU/-88G1VI91k0/s1600/command+module.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="306" src="http://3.bp.blogspot.com/-jQInd15tukc/UMe5Kou25SI/AAAAAAAACiU/-88G1VI91k0/s640/command+module.png" width="640" /></a></div><div><br /></div><div><br /></div><div><b>Gas monitoring&nbsp;</b><br />There was a lot of discussion around gas monitoring. Paul brought with him a jeenode with a hall effect sensor connected for sensing the magnetic pulse given off by certain types of gas meter. The jeenode goes to sleep between pulses so that it can run on a single AA battery for a long time which is a big benefit for installations where there are no near electrical sockets. Glyn worked on adding this to the gas monitoring page on the website here:&nbsp;<a href="http://openenergymonitor.org/emon/buildingblocks/gas-meter-monitoring">http://openenergymonitor.org/emon/buildingblocks/gas-meter-monitoring</a></div><div><br /></div><div>Paul also<a href="https://github.com/emoncms/emoncms/commit/cbccc9922e2a563488f6997cc8333863db123a5a"> implemented a pulse to power input processor</a> for emoncms to allow conversion of pulse data coresponding to energy use increments to power values for use with the low power gas pulse counter.</div><div><br /></div><div><b>EmonTx accuracy experiment replication</b></div><div>Carlos replicated the EmonTx accuracy experiment, with the results comparing well with the previous investigation take a look at his results here&nbsp;<a href="http://openenergymonitor.org/emon/emontx/accuracy">http://openenergymonitor.org/emon/emontx/accuracy</a></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://openenergymonitor.org/emon/sites/default/files/cagabi-Accuracy%20test%20emonTX.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="200" src="http://openenergymonitor.org/emon/sites/default/files/cagabi-Accuracy%20test%20emonTX.jpg" width="640" /></a></div><div><br /></div><div><br /></div><div><b>An open source SAP calculator -</b> Matt and I made a start on an open source web based SAP worksheet - SAP is the UK Government’s Standard Assessment Procedure for Energy Rating of Dwellings produced by BRE the Building Research Establishment. We've put the progress we have made so far up on github here: <a href="https://github.com/emoncms/sap">https://github.com/emoncms/sap</a>&nbsp;</div><div>Please get in touch if your interested in helping to develop this, we could do with more help with completing the form and checking and implementing the remaining calculations.</div><div>Matt is working on a really exciting project in Manchester with Carbon Coop to do building retrofits of which monitoring and sap calculation is an important part, its well worth a look at their work here&nbsp;<a href="http://carbon.coop/">http://carbon.coop/</a></div><div><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-cGDoBrMU3IE/UMe5E9wKwYI/AAAAAAAACiM/MDJlXUk4eeg/s1600/sapscreen.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="392" src="http://3.bp.blogspot.com/-cGDoBrMU3IE/UMe5E9wKwYI/AAAAAAAACiM/MDJlXUk4eeg/s640/sapscreen.png" width="640" /></a></div><div><br /><b></b>  <br />We also looked at humidity sensing and built up a couple of low-power wireless humidity nodes using an emonTx's with a DHT22 humidity sensor.<br /><br />Throughout the weekend I think we had a good emphasis on how the tools that we are developing are applied with much discussion of how it all fits into the wider picture of sustainable energy.&nbsp;</div><div><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-zzSdle2hvdc/UMe3uj29ZKI/AAAAAAAACiE/LsPtHby8YQo/s1600/oemmeetup01.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="300" src="http://4.bp.blogspot.com/-zzSdle2hvdc/UMe3uj29ZKI/AAAAAAAACiE/LsPtHby8YQo/s400/oemmeetup01.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Finishing the first day with well earned homebrew ale thanks to Carlos<br />From left to right: Paul, Carlos, Matt, Ken, Trystan (Glyn taking the photo)</td></tr></tbody></table><div>It was a great weekend and I'm really looking forward to the next one already, we're thinking maybe next April on a bank holiday weekend.</div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/12/rfm12b-wireless-transmission-explained/">RFM12B Wireless Transmission Explained</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-12-04T23:09:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-12-04 23:09:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/rfm12/'>RFM12</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/12/rfm12b-wireless-transmission-explained/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div><br /></div><div><a href="http://4.bp.blogspot.com/-wAK7ujuyW74/UL6CdPOgCTI/AAAAAAAAdDI/BnSuuYG715M/s1600/rfm12.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-wAK7ujuyW74/UL6CdPOgCTI/AAAAAAAAdDI/BnSuuYG715M/s1600/rfm12.png" /></a>All OpenEnergyMonitor hardware modules (emonTx, emonGLCD emonBase etc) currently use the RFM12B 433/868/915Mhz module to communicate via wireless.&nbsp;</div><div><br /></div><div>We use the <a href="https://github.com/jcw/jeelib">JeeLib Arduino library</a> from <a href="http://jeelabs.org/">JeeLabs</a> as the software driver for the RFM12B.</div><div><br /></div><div><a href="http://openenergymonitor.org/emon/user/924">Robert Wall</a> has recently contributed a well written bit of documentation to explain the basics&nbsp;RFM12B wireless transmission:<br /><br /><br /><br /><br /></div><div style="background-color: #dddddd; padding: 10px;"><b><i>RFM12B - Part 2 -</i></b><br /><b><i>Sending data by radio between emonTx, emonBase and emonGLCD</i></b></div><div style="background-color: #dddddd; padding: 10px;"><i>The data is sent by radio between the sensor nodes, the base station (including the RFM12Pi) and the display. This note describes the way in which the data is assembled and addressed in order to pass values between units.<br /><br />The Arduino-based emon modules are programmed with application sketches that make use of the JeeLib library to handle the transmission and reception of the data, using the function calls provided by the library. The RFM12Pi is programmed in PHP but uses exactly the same methods and data structure. <a href="http://openenergymonitor.org/emon/buildingblocks/rfm12b2#appendix1">Appendix 1</a>&nbsp;contains instructions for configuring the Raspberry Pi module.</i><br /><br /><i><b>Configuring &amp; Addressing</b></i></div><div style="background-color: #dddddd; padding: 10px;"><i>All the devices that communicate with each other must all use the same frequency. For the Arduino-based devices, this is specified in the software and must be one of the pre-defined constants. It must match the frequency of the hardware. (You should check which frequencies are permitted in your locality. It is possible to operate at the wrong frequency, e.g. 868 MHz hardware at 433 MHz, but the range can be very small, maybe less than 1 m).<br /><br />The addressing scheme has two parts, the “Network Group” and the “Node ID”. The RFM12B module supports 250 network groups, the RFM12 module can have only one network group, 212. Only devices that belong to the same group can talk to and listen to each other. If you like, you can think of a network group as being like a room: everyone in the room can talk to anyone else, but can neither talk to nor hear someone in a different room.<br /><br />Within the network group, there can be 31 Node Ids, but nodes 0 and 31 are special. Node 0 is used for On/Off Keying (OOK) and node 31 is for broadcast messages. The way we use it, each device must have its own unique ID. You can think of the ID as the name of a person in the room. <a href="http://openenergymonitor.org/emon/buildingblocks/rfm12b2#appendix2">Appendix 2</a> lists our standardised Node IDs.<br /><br />There is one further but very important restriction: all the devices in all the network groups all use the same frequency, so only one device is allowed to transmit at any time.</i></div><div style="background-color: #dddddd; padding: 10px;"><a href="http://openenergymonitor.org/emon/buildingblocks/rfm12b2">Read Item in full from the Building Blocks Section&nbsp;</a></div><br />This documentation forms part 2 of RFM12B documentation. Part 1 details an <a href="http://openenergymonitor.org/emon/buildingblocks/rfm12b-wireless">overview of the RFM12B module</a>.  <br /><br />I would also like to take this opportunity to thank <a href="http://openenergymonitor.org/emon/user/1741">ukmoose</a> for his contributions to the Raspberry Pi&nbsp;<a href="http://wiki.openenergymonitor.org/index.php?title=Raspberry_Pi">RFM12pi documentation wiki page</a>.
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/12/public-and-private-feeds/">Public and private feeds </a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-12-03T18:33:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-12-03 18:33:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> two minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/12/public-and-private-feeds/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;">Another new feature in the latest commit is what I hope is clearer feed authentication levels:</div><br /><b>Public access to feeds -</b> no authentication required accessible to everyone - these are for use in public dashboards&nbsp;which also require no authentication, but is wider than dashboards only as it also means&nbsp;sharing feed data publicly in general either directly through the feed api or visualisations.<br /><div><br /></div><div><b>Private feeds</b><br /><br /><b>Read only access to feeds -</b> accessible via read apikey (but not public unless you share your read apikey publicly) useful for sharing with someone privately, ie sending a link via email to a trusted person. To do this you make the feed private and send the link to whatever it is you want to share privately with an &amp;apikey=YOURREADAPIKEY at the end.<br /><br /><b>Write access to feeds - </b>accessible via write apikey, strictly a private apikey (not to be shared as this would give others write access to your account). Write access is needed for connected devices such as the basestation to upload data to emoncms.</div><div><br /></div><div>All feeds are by default private. To make a feed public click on the lock icon in the feed list, the globe icon represents public access:<br /><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-UXTb_DlsTCc/ULzpr-GhNeI/AAAAAAAAChg/KlKAsOai5hY/s1600/public01.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="291" src="http://2.bp.blogspot.com/-UXTb_DlsTCc/ULzpr-GhNeI/AAAAAAAAChg/KlKAsOai5hY/s400/public01.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">This is my feed list, I have granted public access to my solar hot water system temperatures and made the house power private as this could be particularly sensitive data as it would be possible to see my daily activity in detail.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;"><b>Private feeds and public dashboards</b></div><div class="separator" style="clear: both; text-align: left;"><b><br /></b></div><div class="separator" style="clear: both; text-align: left;">If you include a private feed in a public dashboard, the dashboard will not be able to retrieve the feed data and your dashboard is likely to look like this:</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-u0pFnJUAJVI/ULzpuXLOAxI/AAAAAAAACho/_ZFI9pKGWc0/s1600/public02.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="227" src="http://3.bp.blogspot.com/-u0pFnJUAJVI/ULzpuXLOAxI/AAAAAAAACho/_ZFI9pKGWc0/s400/public02.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">As all feeds with the implementation of this feature have been set to private all public dashboards will either have dials that are 0 and possibly visualisations that show the above message. If your visualisation is still working it may be because the javascript from the page is cached in your browser and you need to clear it.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">If you see any bugs or to see the latest status of bug fixing and features on their way have a look at the <a href="http://openenergymonitor.org/emon/node/1540">bug and dev list</a></div><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/12/multiple-multigraphs/">Multiple multigraphs</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-12-03T17:48:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-12-03 17:48:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> three minutes reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/emoncms/'>emoncms</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/12/multiple-multigraphs/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <div class="separator" style="clear: both; text-align: left;">A long asked for feature for emoncms has been the ability to create multiple multigraph type visualisations. One might be a comparison of room temperatures another for hot water system temperatures, maybe another for room temperature and electrical or gas energy input?</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">This feature has now been implemented and is integrated fully into the visualisation selector page. If you have your own emoncms server you can download the latest emoncms from the usual place:&nbsp;<a href="http://github.com/emoncms/emoncms">github.com/emoncms/emoncms&nbsp;</a>&nbsp;and emoncms.org has also been updated.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Unfortunately&nbsp;due to the large rewrite of the multigraph code the new multigraph is not backwards compatible with the old multigraph, but I hope you will persist with the new implementation as the gains are well worth it. Old multigraphs appear as a list of undefined feeds, my advice is to delete the old multigraph and start with a new one.</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Here is a brief&nbsp;walk through&nbsp;of the feature:</div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">1) Start by going to the Vis tab and select the multigraph visualisation from the first drop down menu. In the second box you should now see a select multigraph drop down menu and a new + button. Click on the plus icon to create a new multigraph:</div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-U9G_DPA7OFI/ULzgMIu-soI/AAAAAAAACgo/xOIxBo9Ljus/s1600/multigraph01.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="216" src="http://3.bp.blogspot.com/-U9G_DPA7OFI/ULzgMIu-soI/AAAAAAAACgo/xOIxBo9Ljus/s400/multigraph01.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">This will refresh the page, navigate again to multigraph in the first drop down menu, you should now see the new multigraph id in the drop down menu. Click/select the new dashboard id:</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-umaxZ0XwMXI/ULzgOgq9OXI/AAAAAAAACgw/6o9fZ2lDdx4/s1600/multigraph02.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="228" src="http://4.bp.blogspot.com/-umaxZ0XwMXI/ULzgOgq9OXI/AAAAAAAACgw/6o9fZ2lDdx4/s400/multigraph02.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">Select a feed from the add feed drop down menu and click on Add, this will add a feed to the multigraph feed list table. Put a tick in the left or right checkbox to specify the axis you wish the feed to appear on, you should now see the feed appear:</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-eXbYEsVxmEo/ULzgQhAWzfI/AAAAAAAACg4/RUuBe5sGcaY/s1600/multigraph03.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="222" src="http://1.bp.blogspot.com/-eXbYEsVxmEo/ULzgQhAWzfI/AAAAAAAACg4/RUuBe5sGcaY/s400/multigraph03.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">Add a few more, put a tick in the fill box to fill in the area below the curve:</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-E5j7KqLpMZE/ULzgTd1CtgI/AAAAAAAAChA/e_PU16ej21s/s1600/multigraph3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="233" src="http://2.bp.blogspot.com/-E5j7KqLpMZE/ULzgTd1CtgI/AAAAAAAAChA/e_PU16ej21s/s400/multigraph3.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: left;"><br /></div><div class="separator" style="clear: both; text-align: left;">Select a default time range by clicking on the day/week/month/year buttons. When you reload the multigraph it should now appear at the time range given. If you'd like the multigraph to load a specific fixed time range just zoom in on the area you want it to show, the next time you load the multigraph it should load your last view.</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-hFwzUnsMXYk/ULzgVbLaaQI/AAAAAAAAChI/n9pdMhhcLSI/s1600/multigraph04.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="223" src="http://2.bp.blogspot.com/-hFwzUnsMXYk/ULzgVbLaaQI/AAAAAAAAChI/n9pdMhhcLSI/s400/multigraph04.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><div class="separator" style="clear: both; text-align: left;">Add a multigraph to your dashboard by selecting multigraph from the dropdown visualisation menu.&nbsp;</div><div class="separator" style="clear: both; text-align: left;">Click on the blank dashboard and click on the Options button. Select the multigraph you wish to show from the drop down menu and click save.</div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-9vgKF7XMlWA/ULzgZJIqrvI/AAAAAAAAChQ/Gj9n5WmpekI/s1600/multigraph05.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="255" src="http://3.bp.blogspot.com/-9vgKF7XMlWA/ULzgZJIqrvI/AAAAAAAAChQ/Gj9n5WmpekI/s400/multigraph05.png" width="400" /></a></div><div class="separator" style="clear: both; text-align: left;">Love to hear any feedback on it,&nbsp;whether&nbsp;it worked or&nbsp;didn't&nbsp;work for you, may be worth clearing the cache if it does not work as a few of the javascript scripts have been updated. Enjoy!</div><br />
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/11/openenergymonitor-shop-christmas/">OpenEnergyMonitor Shop Christmas Ordering</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-11-29T20:03:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-11-29 20:03:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/christmas/'>Christmas</a></li>
      
        <li><a class='category' href='/categories/shop/'>shop</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/11/openenergymonitor-shop-christmas/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    <table cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-RYXgC0Du59s/ULdofiCwKeI/AAAAAAAAc9s/1GNHLLPei_M/s1600/1-2012-11-28+12.30.21.jpg" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="400" src="http://3.bp.blogspot.com/-RYXgC0Du59s/ULdofiCwKeI/AAAAAAAAc9s/1GNHLLPei_M/s400/1-2012-11-28+12.30.21.jpg" width="300" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Looking up at Snowon 1085m from Llyn Glasyn yesterday (20 min north of OEM labs), North Wales UK<br /></td></tr></tbody></table><br />The first snow of the year has fallen onto the Welsh mountains and the <a href="http://emoncms.org/">emoncms</a>&nbsp;<a href="http://emoncms.org/beehive/live">Bee Hive Temperature Monitor </a>has recorded sub-zero temperatures in the valleys.&nbsp;This can only mean that winter is on its way!&nbsp;<div><br /></div><div>The <a href="http://shop.openenergymonitor.com/">OpenEnergyMonitor online shop</a> has been nice and busy recently; breaking the 1000th order mark a couple of weeks ago was a big milestone. Thank&nbsp;you to all of you who've ordered from the shop, you're directly helping to support the project. The success of the shop has enabled us to contribute to the project full time; we have lots of ideas for 2013.&nbsp;</div><div><br /></div><div>We will be running the shop and shipping orders as fast as we can right up&nbsp;until Christmas, if you're hoping to receive your items before Christmas we&nbsp;recommend&nbsp;you place your order before the following dates:&nbsp;</div><div><br /></div><div><b>UK:</b></div><div>1 st class: 18th Dec</div><div>Special&nbsp;Delivery: 20th Dec</div><div><b><br /></b></div><div><b>Europe:</b></div><div>Airmail/Airsure: 10th Dec&nbsp;</div><div><b><br /></b></div><div><b>Outside Europe (USA):</b></div><div>Airmail/Airsure:&nbsp;8th Dec&nbsp;</div><div><b><br /></b></div><div><b>Outside Europe (NZ/Australia):</b></div><div>Airmail/Airsure:&nbsp;3rd Dec</div><div><br /></div><div>If you don't manage to get your order in before the dates above, don't worry there is still a good chance it will arrive, we will be shipping as fast as we can right up&nbsp;until our local post office shuts on 23rd Dec.&nbsp;&nbsp;</div><div><br /></div><div>Merry Christmas or as we say in Welsh Nadolig Llawen.</div><div><br /></div><div><br /></div><div><div><div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-b-G_uQzUlBQ/ULdpbL2GTuI/AAAAAAAAc90/J56oAH-P8Ts/s1600/61934_538968842781113_1393995530_n.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="205" src="http://3.bp.blogspot.com/-b-G_uQzUlBQ/ULdpbL2GTuI/AAAAAAAAc90/J56oAH-P8Ts/s400/61934_538968842781113_1393995530_n.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">The view from <a href="http://www.pyb.co.uk/">Plas Y Brenin</a>&nbsp;early this morning looking out over Llyn Mymbur &nbsp;(30 min north of OEM labs), North Wales UK</td></tr></tbody></table><br /><br /><br /><br /></div></div></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/11/openenergymonitor-meetup/">OpenEnergyMonitor meetup</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-11-29T10:11:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-11-29 10:11:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Trystan Lea</span> <br>
    <span><i class='icon-time'></i> Less than one minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/oem-labs/'>OEM Labs</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/11/openenergymonitor-meetup/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    Were having an openenergymonitor meetup, hack weekend the weekend after next (<b>8th-9th of December</b>) up here at the openenergymonitor lab in Snowdonia, North Wales. This is an open invitation, if you have the weekend free (I appreciate the short notice) and would like to come please send me an email: <b>trystan.lea at openenergymonitor.org</b>&nbsp;It will be a fairly low key event with plenty of building, coding, chatting, probably a pub visit and enjoying the mountain air.<br /><br />For a taste of what its like have a look at the blog posts for the last meetup we had:<br /><br /><a href="http://openenergymonitor.blogspot.co.uk/2011/05/snowdonia-build-april-2011.html">http://openenergymonitor.blogspot.co.uk/2011/05/snowdonia-build-april-2011.html</a><br /><br />And the video of a day at openenergymonitor:<br /><br /><iframe allowfullscreen="allowfullscreen" frameborder="0" height="315" src="http://www.youtube.com/embed/e19ClmQmql8" width="560"></iframe><br /><br />Here's the location:<br /><br /><iframe frameborder="0" height="350" marginheight="0" marginwidth="0" scrolling="no" src="https://maps.google.co.uk/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=ll486dj&amp;aq=&amp;sll=52.8382,-2.327815&amp;sspn=5.349086,13.842773&amp;ie=UTF8&amp;hq=&amp;hnear=LL48+6DJ,+United+Kingdom&amp;t=m&amp;z=14&amp;ll=52.959537,-4.044288&amp;output=embed" width="425"></iframe><br /><small><a href="https://maps.google.co.uk/maps?f=q&amp;source=embed&amp;hl=en&amp;geocode=&amp;q=ll486dj&amp;aq=&amp;sll=52.8382,-2.327815&amp;sspn=5.349086,13.842773&amp;ie=UTF8&amp;hq=&amp;hnear=LL48+6DJ,+United+Kingdom&amp;t=m&amp;z=14&amp;ll=52.959537,-4.044288" style="color: blue; text-align: left;">View Larger Map</a></small><br /><br />If your interested please get in touch.<br /><br />Hope to see you there!<br /><br />Trystan<br /><br /><br /><br /><div><br /></div>
    
  </div>
  </article>
  <hr>
  
  <article class="listing">
    <header>
  
  <h1 class="beta">
    <a href="/2012/11/solar-pv-excess-power-into-immersion/">Solar PV excess power into immersion water heater using emonTx, emonGLCD & MKII triac code - in development</a>
  </h1>
  

  
  <div class="meta clearfix">
    <time datetime="2012-11-24T19:45:00+00:00" pubdate data-updated="true"><i class="icon-calendar"></i> 2012-11-24 19:45:00 +0000
    <span class="byline author vcard"><i class='icon-user'></i> Glyn Hudson</span> <br>
    <span><i class='icon-time'></i> 1 minute reading time</span> <br>
    <span>
    <i class="icon-tags"></i>
    <ul class="tags unstyled">
    
      
        <li><a class='category' href='/categories/solarpv/'>solarPV</a></li>
      
    
    </ul>
  </span> <br>
    
      <a class='comments'
         href="/2012/11/solar-pv-excess-power-into-immersion/#disqus_thread"
         >Comments</a>
    
  </div>
  
</header>


  <div class="entry-content clearfix">
    From the forums: <b>Solar PV excess power into immersion water heater using emonTx, emonGLCD &amp; MKII triac code</b><br /><b><br /></b><a href="http://openenergymonitor.org/emon/user/1533" style="background-color: white; color: #336699; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; text-decoration: none;" title="View user profile.">jrobbie</a>&nbsp;(on the forums) writes:<br /><br /><div style="background-color: #dddddd; padding: 10px;">As there appears to be a considerable amount of interest in getting an emonTx unit running Robin’s MK2 code (calypso_rae on this forum) and communicating with emonGLCD / emon Base … I thought it was about time I publish where I am at with my project.<br /><br />The emonTx with CT1 connected to the Grid, and CT3 connected to the Solar PV generation meter, AC psu and 5v USB supply are also connected.<br /><br /><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-ePo_WfKqfoI/ULEiH9DxikI/AAAAAAAAc1Y/_9GkfZ0RQGA/s1600/emonGLCD+Diverting.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="266" src="http://3.bp.blogspot.com/-ePo_WfKqfoI/ULEiH9DxikI/AAAAAAAAc1Y/_9GkfZ0RQGA/s400/emonGLCD+Diverting.JPG" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonGLCD with modified code</td></tr></tbody></table><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-PoJvZwH7HzU/ULEiT-Sp7fI/AAAAAAAAc1o/Xpa1rBxfAwA/s1600/emonTx+boxed.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="213" src="http://1.bp.blogspot.com/-PoJvZwH7HzU/ULEiT-Sp7fI/AAAAAAAAc1o/Xpa1rBxfAwA/s320/emonTx+boxed.JPG" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">emonTx with additional tri-color LED to indicate immersion heater status</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-gl4dP3fIijE/ULEiBPOsqZI/AAAAAAAAc1Q/lWiOlpdaok8/s1600/DPCU.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="213" src="http://3.bp.blogspot.com/-gl4dP3fIijE/ULEiBPOsqZI/AAAAAAAAc1Q/lWiOlpdaok8/s320/DPCU.JPG" width="320" /></a></td></tr><tr><td class="tr-caption">Consumer unit containing&nbsp;MOC3041 triac</td></tr></tbody></table></div><div style="background-color: #dddddd; padding: 10px;">So many thanks to Robin for the MK2 code, Ian for the Calibration code, Glyn and Trystan for the building blocks as well as Paul Reed, Stuart and Robert Wall who have all made major contributions via this forum and get us to where we are today.</div><div style="background-color: #dddddd; padding: 10px;">Read full post including emonGLCD and emonTx software sketches on the forums <a href="http://openenergymonitor.org/emon/node/1340">here</a></div>
    
  </div>
  </article>
  <hr>
  

  <div class="pagination">
    
      <a class="btn pull-left" href="/posts/22">&larr; Older</a>
    

    
    <a class="btn pull-right" href="/posts/20">Newer &rarr;</a>
    
  </div>


    </div>

    
    <aside id="sidebar" class="grid__item one-third lap-one-whole palm-one-whole">
      <div class="grid">

 
 <section id="recent-posts" class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Recent Posts</h1>
  <ul class="divided">
    
      
        <li class="post">
          <a href="/2019/10/cydynni-display/">Cydynni emonCMS dashboard on display</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2019/05/emondc/">Introducing emonDC</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2018/11/2018-dev-update/">2018 Development Review</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2018/11/demand-side-response/">Demand Side Response Development</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2018/01/emoncms-theme/">Emoncms Blue Theme</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2018/01/emonpi-remote-access/">emonPi Remote Access with Dataplicity</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2017/10/iotawatt/">Introducing IoTaWatt</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2017/08/cydynni-energylocal/">CydYnni – Energy Local, community hydro smart grid</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2017/08/advances-article/">Advances Wales Magazine Article</a>
        </li>
      
    
      
        <li class="post">
          <a href="/2017/06/emoncms-android-app-v2/">Emoncms Android App V2</a>
        </li>
      
    
  </ul>
</section>
  
  
     <section class="aside-module grid__item one-whole lap-one-half">
  <h1 class="title delta">Categories</h1>
  <ul class="divided" id="ub202">
    
    
      <li>
        <a href="/categories/air-quality-egg/">air quality egg
        </a>
      </li>
    
      <li>
        <a href="/categories/antenna/">antenna
        </a>
      </li>
    
      <li>
        <a href="/categories/building-energy-modelling/">building energy modelling
        </a>
      </li>
    
      <li>
        <a href="/categories/china/">china
        </a>
      </li>
    
      <li>
        <a href="/categories/christmas/">christmas
        </a>
      </li>
    
      <li>
        <a href="/categories/dc/">dc
        </a>
      </li>
    
      <li>
        <a href="/categories/dc-current-sensing/">dc current sensing
        </a>
      </li>
    
      <li>
        <a href="/categories/esp8266/">esp8266
        </a>
      </li>
    
      <li>
        <a href="/categories/htu21d/">htu21d
        </a>
      </li>
    
      <li>
        <a href="/categories/heat-pump/">heat pump
        </a>
      </li>
    
      <li>
        <a href="/categories/kaizen/">kaizen
        </a>
      </li>
    
      <li>
        <a href="/categories/kicad/">kicad
        </a>
      </li>
    
      <li>
        <a href="/categories/mqtt/">mqtt
        </a>
      </li>
    
      <li>
        <a href="/categories/nanoderf/">nanoderf
        </a>
      </li>
    
      <li>
        <a href="/categories/nodered/">nodered
        </a>
      </li>
    
      <li>
        <a href="/categories/oem-labs/">oem labs
        </a>
      </li>
    
      <li>
        <a href="/categories/okg/">okg
        </a>
      </li>
    
      <li>
        <a href="/categories/oscilloscope/">oscilloscope
        </a>
      </li>
    
      <li>
        <a href="/categories/rfm12/">rfm12
        </a>
      </li>
    
      <li>
        <a href="/categories/rfm69/">rfm69
        </a>
      </li>
    
      <li>
        <a href="/categories/rs485/">rs485
        </a>
      </li>
    
      <li>
        <a href="/categories/sap-2012/">sap 2012
        </a>
      </li>
    
      <li>
        <a href="/categories/shw/">shw
        </a>
      </li>
    
      <li>
        <a href="/categories/srf/">srf
        </a>
      </li>
    
      <li>
        <a href="/categories/tasker/">tasker
        </a>
      </li>
    
      <li>
        <a href="/categories/android/">android
        </a>
      </li>
    
      <li>
        <a href="/categories/app/">app
        </a>
      </li>
    
      <li>
        <a href="/categories/application/">application
        </a>
      </li>
    
      <li>
        <a href="/categories/arduino/">arduino
        </a>
      </li>
    
      <li>
        <a href="/categories/award/">award
        </a>
      </li>
    
      <li>
        <a href="/categories/backup/">backup
        </a>
      </li>
    
      <li>
        <a href="/categories/batteries/">batteries
        </a>
      </li>
    
      <li>
        <a href="/categories/benchmarking/">benchmarking
        </a>
      </li>
    
      <li>
        <a href="/categories/build-sesh/">build sesh
        </a>
      </li>
    
      <li>
        <a href="/categories/business/">business
        </a>
      </li>
    
      <li>
        <a href="/categories/ciseco/">ciseco
        </a>
      </li>
    
      <li>
        <a href="/categories/community-energy/">community energy
        </a>
      </li>
    
      <li>
        <a href="/categories/community-smart-grid/">community smart grid
        </a>
      </li>
    
      <li>
        <a href="/categories/continuous-testing/">continuous testing
        </a>
      </li>
    
      <li>
        <a href="/categories/control/">control
        </a>
      </li>
    
      <li>
        <a href="/categories/current-sensor/">current sensor
        </a>
      </li>
    
      <li>
        <a href="/categories/current-transformer/">current transformer
        </a>
      </li>
    
      <li>
        <a href="/categories/dashboard/">dashboard
        </a>
      </li>
    
      <li>
        <a href="/categories/development/">development
        </a>
      </li>
    
      <li>
        <a href="/categories/display/">display
        </a>
      </li>
    
      <li>
        <a href="/categories/diy-drones/">diy drones
        </a>
      </li>
    
      <li>
        <a href="/categories/docker/">docker
        </a>
      </li>
    
      <li>
        <a href="/categories/documentation/">documentation
        </a>
      </li>
    
      <li>
        <a href="/categories/ecohomelab/">ecohomelab
        </a>
      </li>
    
      <li>
        <a href="/categories/efergy/">efergy
        </a>
      </li>
    
      <li>
        <a href="/categories/electronics/">electronics
        </a>
      </li>
    
      <li>
        <a href="/categories/elektrocamp/">elektrocamp
        </a>
      </li>
    
      <li>
        <a href="/categories/email-notifications/">email notifications
        </a>
      </li>
    
      <li>
        <a href="/categories/embodied-energy/">embodied energy
        </a>
      </li>
    
      <li>
        <a href="/categories/emonbase/">emonbase
        </a>
      </li>
    
      <li>
        <a href="/categories/emoncms/">emoncms
        </a>
      </li>
    
      <li>
        <a href="/categories/emonctrl/">emonctrl
        </a>
      </li>
    
      <li>
        <a href="/categories/emondc/">emondc
        </a>
      </li>
    
      <li>
        <a href="/categories/emonglcd/">emonglcd
        </a>
      </li>
    
      <li>
        <a href="/categories/emonsd/">emonsd
        </a>
      </li>
    
      <li>
        <a href="/categories/emonth/">emonth
        </a>
      </li>
    
      <li>
        <a href="/categories/emontx/">emontx
        </a>
      </li>
    
      <li>
        <a href="/categories/emontx-v2/">emontx v2
        </a>
      </li>
    
      <li>
        <a href="/categories/emontxsmt/">emontxsmt
        </a>
      </li>
    
      <li>
        <a href="/categories/emontxshield/">emontxshield
        </a>
      </li>
    
      <li>
        <a href="/categories/emoncms/">emoncms
        </a>
      </li>
    
      <li>
        <a href="/categories/emonesp/">emonesp
        </a>
      </li>
    
      <li>
        <a href="/categories/emonpi/">emonpi
        </a>
      </li>
    
      <li>
        <a href="/categories/emontx/">emontx
        </a>
      </li>
    
      <li>
        <a href="/categories/end-to-end/">end to end
        </a>
      </li>
    
      <li>
        <a href="/categories/energy-monitor/">energy monitor
        </a>
      </li>
    
      <li>
        <a href="/categories/energy-monitoring/">energy monitoring
        </a>
      </li>
    
      <li>
        <a href="/categories/esp8266/">esp8266
        </a>
      </li>
    
      <li>
        <a href="/categories/ev/">ev
        </a>
      </li>
    
      <li>
        <a href="/categories/feed-storage/">feed storage
        </a>
      </li>
    
      <li>
        <a href="/categories/firmware/">firmware
        </a>
      </li>
    
      <li>
        <a href="/categories/forum/">forum
        </a>
      </li>
    
      <li>
        <a href="/categories/github/">github
        </a>
      </li>
    
      <li>
        <a href="/categories/graphing/">graphing
        </a>
      </li>
    
      <li>
        <a href="/categories/hackathon/">hackathon
        </a>
      </li>
    
      <li>
        <a href="/categories/hall-effect/">hall effect
        </a>
      </li>
    
      <li>
        <a href="/categories/hardware/">hardware
        </a>
      </li>
    
      <li>
        <a href="/categories/heating/">heating
        </a>
      </li>
    
      <li>
        <a href="/categories/heatpumpmonitor/">heatpumpmonitor
        </a>
      </li>
    
      <li>
        <a href="/categories/home-assistant/">home assistant
        </a>
      </li>
    
      <li>
        <a href="/categories/home-camp/">home camp
        </a>
      </li>
    
      <li>
        <a href="/categories/humidity/">humidity
        </a>
      </li>
    
      <li>
        <a href="/categories/integrations/">integrations
        </a>
      </li>
    
      <li>
        <a href="/categories/interface/">interface
        </a>
      </li>
    
      <li>
        <a href="/categories/interview/">interview
        </a>
      </li>
    
      <li>
        <a href="/categories/iotawatt/">iotawatt
        </a>
      </li>
    
      <li>
        <a href="/categories/java/">java
        </a>
      </li>
    
      <li>
        <a href="/categories/job/">job
        </a>
      </li>
    
      <li>
        <a href="/categories/kickstarter/">kickstarter
        </a>
      </li>
    
      <li>
        <a href="/categories/lightwaverf/">lightwaverf
        </a>
      </li>
    
      <li>
        <a href="/categories/linux/">linux
        </a>
      </li>
    
      <li>
        <a href="/categories/logo/">logo
        </a>
      </li>
    
      <li>
        <a href="/categories/manufacturing/">manufacturing
        </a>
      </li>
    
      <li>
        <a href="/categories/measurement/">measurement
        </a>
      </li>
    
      <li>
        <a href="/categories/media/">media
        </a>
      </li>
    
      <li>
        <a href="/categories/mobile/">mobile
        </a>
      </li>
    
      <li>
        <a href="/categories/mobile-app/">mobile app
        </a>
      </li>
    
      <li>
        <a href="/categories/modbus/">modbus
        </a>
      </li>
    
      <li>
        <a href="/categories/nanode/">nanode
        </a>
      </li>
    
      <li>
        <a href="/categories/ook/">ook
        </a>
      </li>
    
      <li>
        <a href="/categories/open-source/">open source
        </a>
      </li>
    
      <li>
        <a href="/categories/openhab/">openhab
        </a>
      </li>
    
      <li>
        <a href="/categories/openenergymonitor/">openenergymonitor
        </a>
      </li>
    
      <li>
        <a href="/categories/openevse/">openevse
        </a>
      </li>
    
      <li>
        <a href="/categories/optical-pulse/">optical pulse
        </a>
      </li>
    
      <li>
        <a href="/categories/pcb/">pcb
        </a>
      </li>
    
      <li>
        <a href="/categories/pebble/">pebble
        </a>
      </li>
    
      <li>
        <a href="/categories/placement/">placement
        </a>
      </li>
    
      <li>
        <a href="/categories/platformio/">platformio
        </a>
      </li>
    
      <li>
        <a href="/categories/pluse/">pluse
        </a>
      </li>
    
      <li>
        <a href="/categories/presentation/">presentation
        </a>
      </li>
    
      <li>
        <a href="/categories/raspberry-pi/">raspberry pi
        </a>
      </li>
    
      <li>
        <a href="/categories/raspberry-pi/">raspberry pi
        </a>
      </li>
    
      <li>
        <a href="/categories/renewable/">renewable
        </a>
      </li>
    
      <li>
        <a href="/categories/serial/">serial
        </a>
      </li>
    
      <li>
        <a href="/categories/shop/">shop
        </a>
      </li>
    
      <li>
        <a href="/categories/showcase/">showcase
        </a>
      </li>
    
      <li>
        <a href="/categories/smartwatch/">smartwatch
        </a>
      </li>
    
      <li>
        <a href="/categories/social-energy-monitoring/">social energy monitoring
        </a>
      </li>
    
      <li>
        <a href="/categories/solarpv/">solarpv
        </a>
      </li>
    
      <li>
        <a href="/categories/sparkfun/">sparkfun
        </a>
      </li>
    
      <li>
        <a href="/categories/sustainability/">sustainability
        </a>
      </li>
    
      <li>
        <a href="/categories/temperature/">temperature
        </a>
      </li>
    
      <li>
        <a href="/categories/three-phase/">three phase
        </a>
      </li>
    
      <li>
        <a href="/categories/travisci/">travisci
        </a>
      </li>
    
      <li>
        <a href="/categories/tutorials/">tutorials
        </a>
      </li>
    
      <li>
        <a href="/categories/upgrade/">upgrade
        </a>
      </li>
    
      <li>
        <a href="/categories/user-guide/">user guide
        </a>
      </li>
    
      <li>
        <a href="/categories/utility-meters/">utility meters
        </a>
      </li>
    
      <li>
        <a href="/categories/voltage-sensing/">voltage sensing
        </a>
      </li>
    
      <li>
        <a href="/categories/vrms/">vrms
        </a>
      </li>
    
      <li>
        <a href="/categories/website/">website
        </a>
      </li>
    
      <li>
        <a href="/categories/wifipixel/">wifipixel
        </a>
      </li>
    
      <li>
        <a href="/categories/wind/">wind
        </a>
      </li>
    
      <li>
        <a href="/categories/wind-turbine/">wind turbine
        </a>
      </li>
    
      <li>
        <a href="/categories/wireless/">wireless
        </a>
      </li>
    
      <li>
        <a href="/categories/workshop/">workshop
        </a>
      </li>
    
      <li>
        <a href="/categories/zerocarbonbritain/">zerocarbonbritain
        </a>
      </li>
    
  </ul>
</section>
  
</div>
    </aside>
    
  </div>
</div>

<footer>
  <div class="grid-wrapper">
  <div class="grid">
    <div class="grid__item">
      <div class="copyright">

  <a rel="me" href='https://twitter.com/openenergymon'><i class="icon-twitter"></i></a>
  <a rel="me" href='https://github.com/openenergymonitor/guide'><i class="icon-github"></i></a>
  <a rel="me" href='https://blog.openenergymonitor.org/feed.xml'><i class="icon-rss"></i></a>

  <div class="credit" style="text-align:center;">
    Website powered by <a href='http://jekyllrb.com/'>Jekyll</a> and <a href='https://github.com/coogie/oscailte'>Oscalite</a>.<br />
    Hosted by <a href='https://pages.github.com/'>GitHub</a> and served by <a href='https://cloudflare.com'>CloudFlare</a>.
  </div>
<!--
<div class="searchtool">


<form action="https://encrypted.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.openenergymonitor.org" />
    <input class="search" id="search" type="text" name="q" results="0" placeholder="Search..." />
  </fieldset>
</form>


</div> -->
</div>
    </div>
  </div>
</div>
</footer>

<!--[if lt IE 7]>
  <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->

</body>
</html>
